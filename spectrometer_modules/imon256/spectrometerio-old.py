#import serial
import numpy
#import peakutils
import random
import time
import sys

import acquisitiondialog as dialog




dialog.showerrormessage("Error message test...")

def replace_all(text, dic):
	for i, j in dic.iteritems():
		text = text.replace(i, j)
	return text


b=0
currentoptions=[]
def readspectra():
	global b
	global currentoptions
	vraw=""
	v1='0.21400996 0.03098827 0.21401233 0.28439258 0.30487503 0.24258796 0.21698523 0.06129501 0.07799526 0.06934677 0.3282553 0.27249738 0.21141799 0.07133795 0.27099914 0.05890166 0.30643152 0.30648454 0.13336383 0.06446519 0.06161427 0.35384214 0.31193763 0.54200886 0.50519553 1.20931839 1.65462506 2.76046004 3.80928614 4.71488524 5.05594785 5.00378785 4.45502996 3.74082827 2.61240822 1.88739229 1.0425812 0.60140846 0.4860154 0.12476166 0.23851487 0.11510552 0.36172005 0.10532196 0.33752073 0.27987513 0.41998838 0.5434286 0.41187693 0.57330555 0.58584092 0.93299715 0.96315737 1.1638814 1.51720135 1.85857014 2.14014743 2.22881912 2.71901428 2.95513244 3.43875824 3.90873249 4.39040744 4.86790955 4.96892912 5.46417166 5.92102703 6.17223874 6.55118003 6.85152077 7.05713756 7.16523337 7.13056634 7.08467029 6.92577195 6.76409108 6.75648785 6.59985513 6.18656933 5.73474064 5.36657476 4.8448732 4.68232757 4.19388245 3.76543194 3.23247831 2.84228225 2.53264346 2.3317175 1.75359318 1.58479343 1.4659927 1.30172623 1.03815678 0.77890303 0.6032197 0.64525803 0.55316602 0.41284287 0.30514061 0.25577556 0.29320932 0.17723264 0.20716421 0.19075098 0.12001475 0.3188046 0.31798108 0.20703277 0.3030403 0.28310569 0.09125339 0.07816904 0.12151455 0.05690995 0.13695538 0.01754734 0.06649305 0.13038204 0.26671731 0.22694195'
	v2='2.44531771e-02 3.08087583e-01 6.33030145e-02 2.74523436e-01 2.82746757e-01 1.19383379e-01 2.01001335e-01 2.16583909e-02 7.44996398e-02 1.21768098e-01 1.07163241e-01 3.20007973e-01 5.04480113e-02 2.06380273e-01 2.53307151e-01 1.45378272e-01 3.89153775e-02 2.86882441e-01 2.66463969e-01 2.01576270e-01 2.87125551e-01 1.00250332e-01 3.05121713e-01 3.62703398e-01 7.81367711e-01 1.15759267e+00 1.85322659e+00 2.70659334e+00 3.64254232e+00 4.52016093e+00 5.19721785e+00 5.03216092e+00 4.46714079e+00 3.55400080e+00 2.75371380e+00 1.65582888e+00 1.07018495e+00 5.82206924e-01 3.80998853e-01 2.92523909e-01 2.70194688e-01 3.16352272e-01 3.44481300e-01 1.50188148e-01 2.19422783e-01 4.71365081e-01 4.64621570e-01 4.14569200e-01 6.66413903e-01 6.30258020e-01 7.99940139e-01 8.24638242e-01 1.18337742e+00 1.19551944e+00 1.42145616e+00 1.84238718e+00 1.96482608e+00 2.46752933e+00 2.78989738e+00 3.19264399e+00 3.58749941e+00 3.97276103e+00 4.21998982e+00 4.65794023e+00 4.99305734e+00 5.37802813e+00 5.86664532e+00 6.31964293e+00 6.41875028e+00 6.88406637e+00 6.95418011e+00 7.04145463e+00 7.06379870e+00 7.20103698e+00 7.15969660e+00 6.99309046e+00 6.58998083e+00 6.30251416e+00 6.08215557e+00 5.59558141e+00 5.46676733e+00 5.02273980e+00 4.39512263e+00 3.99482279e+00 3.73153474e+00 3.20879712e+00 2.80807007e+00 2.43492997e+00 2.28670183e+00 1.74779117e+00 1.71174270e+00 1.51067839e+00 1.03146491e+00 1.06351381e+00 9.70748148e-01 7.00119083e-01 6.37820186e-01 4.63037453e-01 5.83284050e-01 5.09447432e-01 3.63309156e-01 2.82573495e-01 1.96043978e-01 3.92344841e-01 3.73212181e-01 1.77215432e-01 1.37791198e-01 1.91966442e-01 5.75057623e-02 2.28700863e-01 1.19415437e-01 1.04392035e-01 2.08636787e-01 2.65514375e-01 1.64868292e-01 5.46068328e-03 1.68374103e-01 9.81977741e-02 7.66464211e-02 5.79113484e-02 2.66663917e-02'
	v3='0.16267702 0.14995004 0.13056496 0.11319686 0.05588515 0.03379094 0.01419048 0.02414744 0.0424341 0.21074255 0.03936655 0.11593551 0.18998626 0.21325007 0.20487759 0.32740364 0.24456658 0.1317282 0.02510792 0.12488275 0.11607882 0.08141721 0.39911097 0.35358973 0.58522615 1.17239428 1.93905434 2.78594086 3.69076339 4.43292846 5.10025176 5.01391888 4.65828936 3.73111638 2.66519184 1.95283023 1.15733173 0.50143099 0.29278696 0.43857881 0.20170587 0.3598628 0.33861007 0.37911626 0.24517852 0.46379851 0.49246104 0.35618973 0.40103282 0.5388926 0.70469807 1.04953862 0.9754213 1.25562734 1.4462878 1.77657884 1.91496149 2.29291287 2.52609412 3.02279681 3.5611676 3.78161861 4.27129186 4.79704733 5.23108066 5.56990347 5.84344203 6.23259243 6.52546679 6.73279204 6.97267129 6.99316611 7.29636267 7.29347894 6.98771413 6.91214415 6.73552106 6.32969463 6.06720788 5.69438017 5.31312874 5.04588623 4.43502339 4.10134893 3.59978475 3.42487128 2.98987178 2.57970712 2.06273296 1.97349437 1.73569604 1.23633627 1.16280362 0.94606792 0.86469199 0.59031695 0.68858696 0.52654061 0.41365251 0.29126579 0.37663166 0.32874746 0.28053137 0.07586522 0.27820143 0.28155374 0.0682459 0.28879724 0.20804062 0.2292403 0.28042703 0.17592326 0.19030515 0.12487924 0.2380501 0.19414689 0.06180595 0.21578027 0.01696502 0.24694633 0.31077336'
	c=0
	import time
	b=b+1
	vraw=""
	auxvrawintaq=""
	i=0
	while(i<3):
		if(b==1):
			auxvrawintaq=auxvrawintaq+""+v1+"_"
			time.sleep(0.000001)
		if(b==2):
			auxvrawintaq=auxvrawintaq+""+v2+"_"
		if(b==3):
			auxvrawintaq=auxvrawintaq+""+v3+"_"
			time.sleep(0.000001)
			b=0
		i=i+1
	if(len(currentoptions)>1):
		if(currentoptions[3]+""=="False"):
			time.sleep(0.5)
			return ""
		else:
			return auxvrawintaq
	else:
		return ""

def setcurrentoptions(options):
	global currentoptions
	currentoptions=options.split(";")
	print(currentoptions)

